{"version":3,"sources":["webpack:///./src/app/app.component.html","webpack:///./src/app/vehicle-store/vehicle-store.component.html","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/vehicle-store/vehicle-store.component.ts","webpack:///./src/app/vehicle-store/vehicle-store.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["module.exports = \"<body>\\r\\n  <div class=\\\"container\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n</body>\\r\\n\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"py-5 text-center\\\">\\r\\n    <img class=\\\"d-block mx-auto mb-4\\\" src=\\\"https://cdn2.iconfinder.com/data/icons/car-14/100/Add_Car-512.png\\\" alt=\\\"\\\"\\r\\n         width=\\\"72\\\" height=\\\"72\\\">\\r\\n    <h2>Vehicle Monitoring</h2>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <h4 class=\\\"mb-3\\\">Filter Vehicles</h4>\\r\\n    <form #vehiclesStatusForm=\\\"ngForm\\\" novalidate=\\\"\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6 mb-3\\\">\\r\\n          <label for=\\\"drpCustomers\\\">Customers</label>\\r\\n          <select class=\\\"custom-select d-block w-100\\\" id=\\\"drpCustomers\\\" name=\\\"drpCustomers\\\" [(ngModel)]=\\\"selectedCustomer\\\">\\r\\n            <option value=\\\"\\\" selected disabled>Select Customer</option>\\r\\n            <option *ngFor=\\\"let customer of customers\\\" [value]=\\\"customer.id\\\">\\r\\n              {{customer.name}}\\r\\n            </option>\\r\\n          </select>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6 mb-3\\\">\\r\\n          <label>Vehicle Status</label>\\r\\n          <div class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"rpConnected\\\" name=\\\"VehcileStatus\\\" type=\\\"radio\\\" [(ngModel)]=\\\"isConnected\\\"\\r\\n                   class=\\\"custom-control-input\\\" [value]=\\\"true\\\">\\r\\n            <label class=\\\"custom-control-label\\\" for=\\\"rpConnected\\\">Connected</label>\\r\\n          </div>\\r\\n          <div class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"rpDisconnected\\\" name=\\\"VehcileStatus\\\" type=\\\"radio\\\" [(ngModel)]=\\\"isConnected\\\"\\r\\n                   class=\\\"custom-control-input\\\" [value]=\\\"false\\\">\\r\\n            <label class=\\\"custom-control-label\\\" for=\\\"rpDisconnected\\\">Disconnected</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <h4 class=\\\"mb-3\\\">Vehciles Log</h4>\\r\\n      <div style='overflow:scroll;  height:400px;' id=\\\"vehicleslog\\\">\\r\\n        <div>\\r\\n          <div *ngFor=\\\"let vehicle of vehicles\\\">\\r\\n            <div class=\\\"alert alert-success\\\" role=\\\"alert\\\"\\r\\n                 *ngIf=\\\"(isConnected===undefined || isConnected===true) && vehicle.isConnected && (selectedCustomer===undefined || selectedCustomer == vehicle.customerId)\\\">\\r\\n              <span>Vehicle with VIN: ({{vehicle.vin}}) & RegNo: ({{vehicle.regNo}}) Owned by: {{vehicle.customer.vin}} at Address ({{vehicle.customer.address}}) become Connected at {{getStatusTime()| date:'dd/MM/yyyy - hh:mm'}}</span>\\r\\n            </div>\\r\\n            <div class=\\\"alert alert-danger\\\" role=\\\"alert\\\"\\r\\n                 *ngIf=\\\"(isConnected===undefined || isConnected===false) && !vehicle.isConnected && (selectedCustomer===undefined || selectedCustomer == vehicle.customerId)\\\">\\r\\n              <span>Vehicle with VIN: ({{vehicle.vin}}) & RegNo: ({{vehicle.regNo}}) Owned by: ({{vehicle.customer.name}}) at Address ({{vehicle.customer.address}}) become Disconnected at {{getStatusTime()| date:'dd/MM/yyyy - hh:mm'}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <button class=\\\"btn btn-primary btn-lg btn-block\\\" (click)=\\\"resetForm();\\\">Reset</button>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html'\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { VehicleStoreComponent } from './vehicle-store/vehicle-store.component';\r\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { VehicleStoreService } from './vehicle-store/vehicle-store.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    VehicleStoreComponent,\r\n  ],\r\n  exports: [\r\n\r\n  ],\r\n  imports: [\r\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\r\n    HttpClientModule,\r\n    FormsModule,\r\n    RouterModule.forRoot([\r\n      { path: '', component: VehicleStoreComponent, pathMatch: 'full' },\r\n    ]),\r\n    NoopAnimationsModule,\r\n  ],\r\n  providers: [VehicleStoreService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, ChangeDetectorRef, AfterViewInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Vehicle } from './models/vehicle.model'\r\nimport { Customer } from './models/customer.model'\r\nimport { VehicleStoreService } from './vehicle-store.service'\r\n\r\n\r\n@Component({\r\n    selector: 'app-vehicle-store',\r\n    templateUrl: './vehicle-store.component.html',\r\n})\r\n\r\nexport class VehicleStoreComponent implements AfterViewInit {\r\n\r\n    public vehicles: Vehicle[] = [];\r\n    public customers: Customer[];\r\n    public isConnected: boolean;\r\n    public selectedCustomer: number;\r\n    public baseUrl: string;\r\n\r\n    constructor(private http: HttpClient, private cdr: ChangeDetectorRef, private vehicleService: VehicleStoreService) { }\r\n\r\n    ngOnInit() {\r\n        this.getAllCustomers();\r\n        this.getAllVehicles();\r\n\r\n        setInterval(() => {\r\n            this.updateVehicleStatus();\r\n            this.getAllVehicles();\r\n        }, 60000)\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    getAllVehicles() {\r\n        this.vehicleService.getAllVehicles().subscribe(result => {\r\n            this.vehicles = [...this.vehicles, ...result.data];\r\n        })\r\n    }\r\n\r\n    getAllCustomers() {\r\n        this.vehicleService.getAllCustomers().subscribe(result => {\r\n            this.customers = result.data;\r\n        });\r\n    }\r\n\r\n    updateVehicleStatus() {\r\n        this.vehicleService.updateVehicleStatus().subscribe(result => {\r\n            var vehicleslogDiv = document.getElementById(\"vehicleslog\");\r\n            vehicleslogDiv.scrollTop = vehicleslogDiv.scrollHeight;\r\n        });\r\n    }\r\n\r\n    getStatusTime() {\r\n        var currentDate = new Date();\r\n        return currentDate;\r\n    }\r\n\r\n    resetForm() {\r\n        this.isConnected = undefined;\r\n        this.selectedCustomer = undefined;\r\n        this.vehicles = [];\r\n        this.getAllVehicles();\r\n    }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { throwError } from 'rxjs';\r\nimport { retry, catchError } from 'rxjs/operators';\r\nimport { ServiceResponse } from './models/serviceresponse.model'\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class VehicleStoreService {\r\n\r\n    private baseUrl: string;\r\n    constructor(private http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n\r\n        this.baseUrl = baseUrl;\r\n    }\r\n\r\n    getAllVehicles() {\r\n        return this.http\r\n            .get<ServiceResponse>(this.baseUrl + 'api/vehicle/getall')\r\n            .pipe(retry(1), catchError(this.errorHandl));\r\n    }\r\n\r\n    getAllCustomers() {\r\n      return  this.http.get<ServiceResponse>(this.baseUrl + 'api/customer/getall')\r\n        .pipe(retry(1), catchError(this.errorHandl));\r\n    }\r\n\r\n    updateVehicleStatus() {\r\n       return this.http.post(this.baseUrl + 'api/vehicle/updatestatus', null)\r\n        .pipe(retry(1), catchError(this.errorHandl));\r\n    }\r\n\r\n    private errorHandl(error) {\r\n        let errorMessage = '';\r\n        if (error.error instanceof ErrorEvent) {\r\n            errorMessage = error.error.message;\r\n        } else {\r\n            errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n        }\r\n        console.log(errorMessage);\r\n        return throwError(errorMessage);\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nexport function getBaseUrl() {\r\n    return \"http://localhost:1951/\"\r\n}\r\n\r\nconst providers = [\r\n  { provide: 'BASE_URL', useFactory: getBaseUrl, deps: [] }\r\n];\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic(providers).bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}